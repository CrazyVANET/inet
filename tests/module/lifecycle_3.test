%description:

Test startup operation on StandardHost that is initially down.

%inifile: omnetpp.ini

[General]
network = Test
tkenv-plugin-path = ../../../etc/plugins
ned-path = .;../../../../src;../../lib
cmdenv-express-mode = false
#debugger-attach-on-error = true

**.hasStatus = true
**.initialStatus = "down"
**.scenarioManager.script = xmldoc("scenario.xml")
*.host.hasTcp = true
*.host.hasUdp = true
*.host.hasSctp = true

%file: test.ned

import inet.nodes.inet.StandardHost;
import inet.base.LifecycleController;
import inet.status.NodeStatus;
import inet.world.scenario.ScenarioManager;

network Test
{
    submodules:
        scenarioManager: ScenarioManager;
        lifecycleController: LifecycleController;
        host: StandardHost;
}

%file: scenario.xml

<scenario>
    <at t="1.0">
        <tell module="lifecycleController" target="host" operation="NodeStartOperation"/>
    </at>
</scenario>

%contains-regex: stdout

Test.host starting up
.*
Test.host started
